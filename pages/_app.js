import React from 'react'
import '../styles/globals.css'
import Router from "next/router";
import Backdrop from '@material-ui/core/Backdrop';
import { makeStyles } from '@material-ui/core/styles';
import Header from '../components/header'

const useStyles = makeStyles((theme) => ({
  backdrop: {
    backgroundColor: 'white'
  },
}));
function MyApp({ Component, pageProps }) {
  const [loading, setLoading] = React.useState(false);
  const classes = useStyles();
  React.useEffect(() => {
    const start = () => {
      console.log("start");
      setLoading(true);
    };
    const end = () => {
      console.log("findished");
      setLoading(false);
    };
    Router.events.on("routeChangeStart", start);
    Router.events.on("routeChangeComplete", end);
    Router.events.on("routeChangeError", end);
    return () => {
      Router.events.off("routeChangeStart", start);
      Router.events.off("routeChangeComplete", end);
      Router.events.off("routeChangeError", end);
    };
  }, []);
  return(  
  <>
      {loading ? (
        <Backdrop className={classes.backdrop} open={true} >
        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="100.000000pt" height="100.000000pt" viewBox="0 0 1200.000000 1224.000000"
 preserveAspectRatio="xMidYMid meet">

         <animateTransform attributeName="transform"
                          attributeType="XML"
                          type="rotate"
                          from="0 0 0"
                          to="360 0 0"
                          dur="5s"
                          repeatCount="indefinite"/>


<g transform="translate(0.000000,1224.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M5803 12200 c-380 -100 -701 -451 -1010 -1106 -226 -480 -398 -1057
-564 -1889 -27 -137 -53 -253 -58 -258 -8 -8 -129 27 -471 136 -240 77 -639
195 -795 235 l-109 29 -12 47 c-36 139 -146 270 -279 332 -207 95 -442 57
-598 -98 -36 -35 -69 -71 -74 -81 -9 -17 -18 -17 -199 -1 -266 23 -668 16
-842 -15 -293 -53 -481 -138 -615 -280 -108 -115 -157 -244 -157 -418 0 -162
33 -286 129 -488 272 -568 939 -1253 1976 -2028 132 -99 245 -182 252 -184 7
-3 -54 -52 -135 -110 -660 -472 -1379 -1125 -1740 -1581 -213 -268 -402 -612
-458 -831 -29 -114 -33 -270 -8 -370 62 -253 280 -438 622 -526 161 -42 549
-57 947 -35 210 12 281 20 505 61 561 102 1058 232 1740 454 217 71 317 98
329 91 8 -6 20 -57 46 -211 30 -173 108 -522 181 -815 76 -301 81 -330 64
-330 -22 0 -139 -123 -168 -178 -127 -238 -55 -516 172 -664 87 -56 171 -79
288 -79 l97 0 60 -108 c226 -405 482 -677 764 -812 45 -21 109 -45 142 -54
119 -30 327 -14 461 36 116 44 316 196 435 330 422 480 747 1298 979 2468 90
453 87 441 117 441 14 0 125 -34 247 -75 542 -182 1183 -360 1601 -444 411
-82 709 -119 1040 -128 740 -20 1155 171 1240 572 41 195 -1 406 -135 680
-152 312 -392 624 -785 1024 -330 336 -695 649 -1210 1038 -66 50 -129 100
-140 113 l-20 22 40 35 c22 19 123 98 225 176 286 219 717 570 914 745 l67 59
62 -25 c82 -33 224 -42 314 -18 235 60 393 255 393 485 0 89 -20 177 -56 240
-13 24 -24 50 -24 58 0 8 40 75 90 150 208 313 300 561 300 807 0 180 -45 306
-149 419 -149 161 -381 253 -756 298 -130 16 -552 16 -725 0 -652 -60 -1274
-199 -2162 -481 -153 -49 -303 -94 -334 -101 -65 -15 -69 -12 -79 66 -24 183
-144 729 -220 996 -119 418 -299 917 -424 1170 -213 432 -546 822 -813 953
-154 76 -356 98 -515 56z m356 -287 c205 -56 428 -260 607 -554 261 -429 488
-1096 653 -1924 96 -480 106 -565 74 -603 -10 -12 -93 -49 -191 -87 -344 -130
-797 -315 -1110 -452 l-193 -84 -362 155 c-199 85 -529 222 -734 305 -204 82
-381 154 -392 161 -31 16 -28 71 19 331 207 1142 505 1962 881 2424 76 94 213
222 281 263 139 83 315 107 467 65z m4940 -2608 c201 -31 384 -107 473 -196
163 -163 167 -411 12 -720 -41 -83 -159 -266 -206 -321 l-23 -27 -70 19 c-91
25 -174 25 -269 0 -235 -60 -386 -249 -386 -484 0 -85 15 -159 44 -213 l16
-32 -167 -147 c-93 -81 -231 -199 -308 -262 -275 -226 -844 -639 -868 -629 -6
3 -70 46 -142 97 -250 179 -553 374 -945 611 -113 68 -220 137 -239 154 l-33
31 -9 170 c-4 93 -11 196 -14 229 -25 275 -50 506 -75 705 -17 129 -31 268
-32 309 l-3 74 90 33 c168 64 763 248 1135 353 504 141 942 221 1450 265 102
9 469 -4 569 -19z m-9433 -11 l80 -7 11 -79 c40 -303 348 -502 657 -422 135
35 261 132 324 251 l32 61 133 -34 c395 -104 1128 -333 1194 -374 22 -13 34
-29 38 -52 4 -19 -9 -141 -29 -283 -52 -372 -77 -620 -106 -1045 -6 -85 -14
-158 -18 -162 -4 -3 -61 -37 -127 -75 -153 -88 -273 -163 -796 -499 -235 -151
-433 -274 -441 -274 -35 0 -525 359 -818 600 -823 675 -1286 1202 -1435 1635
-37 107 -46 275 -20 356 46 143 166 256 348 328 84 34 196 56 337 70 115 10
523 13 636 5z m5893 -791 c62 -271 137 -1116 101 -1138 -6 -4 -79 34 -163 83
-262 155 -758 413 -992 517 -60 27 -118 54 -128 61 -15 9 16 26 195 107 336
152 951 416 970 417 3 0 11 -21 17 -47z m-2947 -7 c280 -100 646 -251 891
-368 81 -39 147 -74 147 -77 0 -3 -51 -28 -113 -56 -209 -92 -848 -423 -1084
-561 -51 -30 -99 -54 -108 -54 -27 0 -37 49 -30 150 8 123 71 704 90 840 21
142 31 170 60 170 13 0 79 -20 147 -44z m1476 -660 c154 -65 899 -440 1142
-575 316 -176 431 -249 456 -286 15 -24 19 -69 26 -353 9 -352 3 -906 -13
-1197 -9 -165 -11 -181 -31 -195 -11 -8 -82 -50 -157 -94 -411 -238 -1157
-619 -1455 -742 l-78 -32 -77 33 c-124 53 -468 218 -751 361 -444 223 -832
451 -850 500 -19 49 -33 485 -34 1034 -1 643 0 657 60 709 69 61 380 233 869
482 474 241 770 378 818 379 10 0 43 -11 75 -24z m2067 -1077 c209 -120 934
-593 951 -621 10 -16 -36 -52 -246 -192 -189 -126 -668 -427 -774 -486 l-58
-33 5 659 c6 620 9 724 26 724 4 0 47 -23 96 -51z m-4221 10 c20 -103 17
-1285 -4 -1319 -9 -15 -52 9 -435 248 -270 169 -544 349 -594 392 -21 18 -22
23 -10 35 65 63 998 675 1030 675 3 0 9 -14 13 -31z m-1050 -987 c389 -256
750 -475 991 -603 l112 -59 12 -193 c25 -391 57 -727 112 -1149 12 -91 19
-174 15 -183 -9 -25 -111 -67 -404 -166 -513 -173 -1007 -308 -1458 -398 -444
-89 -741 -118 -1069 -107 -325 12 -442 33 -594 108 -353 174 -361 540 -22
1044 233 348 587 708 1176 1200 315 262 849 664 883 664 2 0 113 -71 246 -158z
m6604 91 c192 -122 603 -433 928 -703 392 -327 740 -682 966 -986 184 -248
285 -463 310 -660 29 -224 -61 -399 -258 -501 -187 -98 -337 -126 -664 -126
-480 1 -1048 103 -1825 329 -212 62 -770 246 -968 319 l-129 48 6 46 c3 25 22
174 41 331 39 316 67 617 86 905 l12 190 166 99 c265 158 515 316 821 516 355
232 381 248 401 249 9 1 57 -25 107 -56z m-1821 -1030 c19 -78 -83 -1039 -119
-1118 -15 -33 -37 -32 -145 6 -232 81 -942 383 -1037 440 l-29 17 414 204
c417 206 751 382 844 444 28 18 53 34 57 34 4 0 11 -12 15 -27z m-3232 -17
c33 -18 130 -72 215 -120 154 -87 740 -383 919 -465 l93 -43 -138 -65 c-365
-171 -961 -413 -1036 -421 -40 -4 -48 -1 -58 18 -14 25 -51 271 -75 491 -22
198 -32 588 -16 617 15 29 25 28 96 -12z m2025 -981 c260 -118 471 -207 730
-307 113 -44 227 -89 254 -101 l49 -21 -6 -80 c-7 -90 -50 -350 -97 -586 -219
-1082 -538 -1858 -911 -2215 -141 -135 -255 -197 -421 -231 -103 -22 -166 -13
-288 40 -235 100 -423 306 -638 697 l-42 77 34 26 c19 14 52 53 75 87 140 209
98 508 -92 660 -88 69 -207 119 -287 119 -20 0 -44 6 -53 12 -24 19 -59 136
-121 403 -118 517 -187 899 -172 959 8 33 19 38 262 130 355 134 708 283 1109
469 l159 74 126 -60 c69 -32 217 -101 330 -152z"/>
<path d="M5891 6750 c-358 -49 -601 -298 -601 -615 0 -169 59 -306 189 -435
144 -143 304 -210 503 -210 227 0 436 82 559 218 57 64 122 191 138 270 16 75
14 198 -4 267 -46 180 -174 336 -345 418 -158 77 -303 105 -439 87z"/>
</g>
</svg>


</Backdrop>
      ) : (
        <>
        <Header />
  <Component {...pageProps} />
  </>
)}
    </>
  )
}

export default MyApp
